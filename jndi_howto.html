<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-07-14
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Christian KÃ¶berl" />
    <meta name="Date-Revision-yyyymmdd" content="20140714" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Eclipse Jetty Integration - Eclipse Jetty Integration - JNDI Howto</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<meta content="Eclipse Jetty Plugin" name="og:title"/>
                      
        
<meta content="Eclipse Jetty Plugin" itemprop="name"/>
                      
        
<meta content="The Eclipse Jetty Plugin enables running/debugging of Java web applications with Jetty in the Eclipse IDE. It supports Jetty 6-9 (has an own Jetty 8 included) and works well in conjunction with the m2e Maven integration." name="description"/>
                      
        
<meta content="The Eclipse Jetty Plugin enables running/debugging of Java web applications with Jetty in the Eclipse IDE. It supports Jetty 6-9 (has an own Jetty 8 included) and works well in conjunction with the m2e Maven integration." itemprop="description"/>
                      
        
<meta content="http://eclipse-jetty.github.io/images/logo.png" name="og:image"/>
                      
        
<meta content="http://eclipse-jetty.github.io/images/logo.png" itemprop="image"/>
                      
        
<meta content="website" name="og:type"/>
                      
        
<meta content="http://eclipse-jetty.github.io/" name="og:url"/>
                      
        
<meta content="Eclipse Jetty Plugin" name="og:site_name"/>
                      
        
<link rel="canonical" href="http://eclipse-jetty.github.io/"/>
                      
        
<link rel="shortcut icon" type="image/x-icon" href="http://eclipse-jetty.github.io/favicon.ico"/>
          
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="./" id="bannerLeft">
                                                                                                <img src="images/title.png"  alt="Eclipse Jetty Integration"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-07-14</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 3.8.0</li>
                      
                
                    
      
                                              
    <li class="pull-right">              <a href="http://marketplace.eclipse.org/node/581283" class="externalLink" title="Marketplace">
        Marketplace</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.mortbay.org/jetty/" class="externalLink" title="Jetty">
        Jetty</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.eclipse.org/" class="externalLink" title="Eclipse">
        Eclipse</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Documentation</li>
                                
      <li>
    
                          <a href="index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="getting_started.html" title="Getting started">
          <i class="none"></i>
        Getting started</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>JNDI Howto</a>
          </li>
                  
      <li>
    
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Additional Infos</li>
                                
      <li>
    
                          <a href="changes-report.html" title="Version History">
          <i class="none"></i>
        Version History</a>
            </li>
                  
      <li>
    
                          <a href="team-list.html" title="Team">
          <i class="none"></i>
        Team</a>
            </li>
                  
      <li>
    
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                  
      <li>
    
                          <a href="source-repository.html" title="Source Repository">
          <i class="none"></i>
        Source Repository</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>JNDI Howto<a name="JNDI_Howto"></a></h2>
<div class="section">
<h3>Activating JNDI<a name="Activating_JNDI"></a></h3>
<p>For publishing resources via JNDI you'll have to enable JNDI on the Options tab:</p><img src="images/OptionsFeatures.jpg" alt="Options for Eclipse Jetty" />
<p>This enables JNDI generally but does not publish any resources. </p></div>
<div class="section">
<h3>Configuring JNDI Resources<a name="Configuring_JNDI_Resources"></a></h3>
<p>For configuring JNDI resources in Jetty you have to create a Jetty XML configuration file and add it on the WebApp tab in the section Jetty Conext Configuration. The file can either be in the Eclipse workspace (Add...) or somewhere else in the file system (Add External...).</p><img src="images/OptionsContext.jpg" alt="Use Context Configuration to add JNDI configuration" />
<p>For more information on Jetty JNDI config see <a class="externalLink" href="http://wiki.eclipse.org/Jetty/Feature/JNDI">http://wiki.eclipse.org/Jetty/Feature/JNDI</a> on the Eclipse site.</p></div>
<div class="section">
<h3>Example JNDI Data Source<a name="Example_JNDI_Data_Source"></a></h3>
<p>The most common case for using JNDI ist configure a data source with connection pool. To accomplish that with Eclipse Jetty you have to follow this steps:</p>
<ol style="list-style-type: decimal">
<li>Activate JNDI on the Options tab</li>
<li>Make sure the JARs for the connection pool and database driver are in the classpath. On the Options tab in the list of all the libraries make sure the JARs are in the selected scopes or manually add them by checking &quot;Include&quot;. Also make sure all JARs are marked as &quot;Global&quot; - this will add them to the Jetty classpath and not only to the application's classpath.</li>
<li>Create a Jetty configuration and add it to the Jetty Context Configuration. See <a class="externalLink" href="http://wiki.eclipse.org/Jetty/Howto/Configure_JNDI_Datasource">http://wiki.eclipse.org/Jetty/Howto/Configure_JNDI_Datasource</a> for a complete reference. Here is an example for c3p0 connection pool with Oracle database:
<div>
<pre>&lt;Configure id=&quot;wac&quot; class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;
  &lt;New id=&quot;myds&quot; class=&quot;org.eclipse.jetty.plus.jndi.Resource&quot;&gt;
    &lt;Arg&gt;&lt;/Arg&gt;
    &lt;Arg&gt;jdbc/myds&lt;/Arg&gt;
    &lt;Arg&gt;
      &lt;New class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;Set name=&quot;driverClass&quot;&gt;oracle.jdbc.OracleDriver&lt;/Set&gt;
        &lt;Set name=&quot;jdbcUrl&quot;&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/Set&gt;
        &lt;Set name=&quot;user&quot;&gt;MYUSER&lt;/Set&gt;
        &lt;Set name=&quot;password&quot;&gt;MYPASS&lt;/Set&gt;
      &lt;/New&gt;
    &lt;/Arg&gt;
  &lt;/New&gt;
&lt;/Configure&gt;
</pre></div></li>
<li>Voil&#xe0;. You're done. You can now lookup the data source in your application via &quot;java:comp/env/jdbc/myds&quot;.</li></ol></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2009-2014.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
